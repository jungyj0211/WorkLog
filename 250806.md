# [25.08.06] 실시간 객체 검츨 테스트를 위한 데이터 수집

## ▶️ 실제 적용할 필드 데이터(사무실 내부) 데이터 수집
 - 8월 6일 수요일 수집, 08:45 ~ 18:18
 - 웹캠 사용(1080p, 30FPS), PC를 이용하여 녹화(pc camera) 및 편집(MS Clipchamp) 진행
 - 총 영상 시간: 4시간 8분 21초 = 14,901초
 - 프레임 추출 조건: 3FPS (10프레임마다 1장)
 - 총 이미지 수: 44,703장(학습 및 테스트), 35.4GB

## ▶️ 가상 데이터 생성 관련
 - ON 데이터(주파수(FFT), 전류, 전압) 사용
 - [SMPS 100W Doc.](ELG-100U-SPEC.pdf) 기준 가상 데이터 생성 관련 내용 파악
 - PFC 회로 적용, THD < 20%, hiccup mode?
   - PFC 회로 : 전기를 소비하는 기기의 특성(부하)에 따라 전류의 파형이 결정됨. PC, LED driver 등 SMPS를 사용하는 기기들은 전류를 불연속적으로 끌어쓰기 때문에 전류 파형이 찌그러지게 됨. DC 변환 전, 찌그러진 전류 파형을 전압 파형과 위상도 맞추고 모양도 비슷하게 교정하여 전력 효율(Power Factor)를 높이고 고조파 왜곡(THD)을 줄어들게 함. 
   - THD (Total Harmonic Distortion) : 전기 신호가 얼마나 찌그러졌는지를 나타내는 지표. SMPS 등 비선형 부하 기기는 전류를 한꺼번에 끌어다 쓰기 때문에, 60Hz의 이상적인 사인파가 깨지고 찌그러진 파형이 나타남. 이때 기본 주파수(60Hz)의 정수배인 120Hz, 180Hz, 240Hz 등의 고조파가 생기게 되고, 이 고조파 비율이 클수록 THD 값이 커짐. THD가 높을수록 전력 효율이 떨어지고, 발열·노이즈·기기 오작동 가능성이 높아짐. 일반적으로 20% 이하로 유지하는 것이 기준이며, 이를 초과하면 고장 또는 이상 신호로 간주할 수 있음.
   - Hiccup Mode : SMPS 출력에 과전류 또는 단락(쇼트)이 발생했을 때, 회로 보호를 위해 일시적으로 출력을 차단하는 동작 모드. 일정 시간 동안 출력을 꺼뒀다가 다시 자동으로 켜보는 방식으로, 문제가 계속되면 다시 꺼지고 반복됨. 이런 주기적인 on-off 동작이 ‘딸꾹질(hiccup)’처럼 보여서 붙여진 이름. 이 모드가 작동하면 출력 전압/전류가 0에 가까워졌다가 다시 올라오는 패턴이 시계열 데이터에서 관측됨. 고장이나 이상 조건을 반영한 가상 데이터 생성 시, 일정 시간 구간에 완전한 출력 중단 신호를 삽입해 시뮬레이션 가능 할 듯.

 - PFC 회로는 전류 파형을 정현파에 가깝게 교정하며 이과정에서 고조파 성분들이 제거되거나 줄어들게됨. 따라서 PFC 회로가 잘 작동하면 THD도 낮아짐
 - 따라서, PFC 회로 고장 시나리오 기반 가상 데이터 생성 진행  
   1. PFC 회로 고장, 필터(capacitor) 노화 → 고조파 증가  
   2. 고조파는 기본 주파수의 정수배 주파수 성분(2f, 3f 등)으로 나타남  
   3. FFT 상에서 주요 주파수의 배수 위치에 인위적인 peak 삽입하여 고장 상태 시뮬레이션  
   4. 결과적으로 THD가 증가한 것으로 간주되는 고장 FFT 데이터 생성

### ✅ TODO list
 - 자료 수집 및 데이터 변환(이미지로)
 - 데이터 활용 학습 진행
 - 주파수 데이터 관련 가상 데이터 생성

 <!-- VS code로 확인 가능, 단축키 : ctrl + shift + v -->