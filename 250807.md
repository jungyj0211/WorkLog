# [25.08.07] 실시간 객체 검츨 테스트를 위한 데이터 수집

## ▪️ 실제 적용할 필드 데이터(사무실 내부) 데이터 수집
 - 총 영상 시간: 14,901초 (4h 8m 21s, 1080p, 30FPS, 35.4GB)
 - 학습 및 테스트를 위한 이미지 변환 및 분할 진행(30FPS -> 3FPS)
 - 데이터 분할
 
  | 용도          | 구간 설정                | 비율 | 이미지 수 (예상) |
  |---------------|--------------------------|------|------------------|
  | Train (훈련)  | 0초 ~ 13,401초 구간      | 90%  | 약 40,232장       |
  | Test (평가)   | **마지막 25분 (1,500초)** | 10%  | 약 4,471장        |

 - 테스트용 데이터는 영상의 **마지막 25분**에서 추출하여 구성함.
 - 해당 데이터는 고정된 환경의 정적인 데이터임에 따라 일반화 성능이 부족함
 - 따라서, 행동의 다양성과 일반화 성능을 향상시키기 위해 코코데이터 셋 일부를 포함하여 학습 진행 예정
 


## ▪️ SMPS 데이터 수집 관련
 - [SMPS 100W Doc.](ELG-100U-SPEC.pdf) 
 - 문제 발생
   - 초음파 데이터 신뢰성 부족 문제
   - Hiccup Mode로 인한 과부하시 출력 전류 측정 어려움

❗ 만약 Hiccup Mode가 고장 전조증상이나 고장 상태를 반영하여 발생한다면?
 - Hiccup Mode : SMPS 출력에 과전류 또는 단락(쇼트)이 발생했을 때, 회로 보호를 위해 일시적으로 출력을 차단하는 동작 모드. 일정 시간 동안 출력을 꺼뒀다가 다시 자동으로 켜보는 방식으로, 문제가 계속되면 다시 꺼지고 반복됨. 이런 주기적인 on-off 동작이 ‘딸꾹질(hiccup)’처럼 보여서 붙여진 이름. 

- Hiccup Mode 동작 및 복귀 관련

| 상황            | 히컵 모드 동작                 | 복귀 여부        |
| ------------- | ------------------------ | ------------ |
| 일시적인 과부하/단락   | 출력 OFF → 대기 후 자동 켬       | 정상 복귀 가능     |
| 계속되는 이상 상태    | 반복 on/off → 정상 상태 복귀 안 됨 | 자동 복귀 불가 가능성 |
| 시스템 스펙에 따라 다름 | 자동 복귀 설계된 제품도 있음         | 정상 작동 유지 가능성 |

- Hiccup 패턴을 이용하기에는 어려움
- 그러나 다음과 같이 활용할 가능성은 있지않은가?

| 상황                          | 활용 예                               |
| --------------------------- | ---------------------------------- |
| **이상 감지 수준의 경고**         | “히껍 5회 이상 발생 시 경고 알림” 정도의 용도로는 유효  |
| **수명 누적 지표**             | 히껍 횟수를 누적해서 예지보전용 지표로 사용 가능        |
| **AI 학습 보조 특성(feature)** | 딥러닝 입력 특성 중 하나로 히껍 발생 여부/횟수는 도움이 됨 |

- Hiccup mode는 과부하나 단락 상황으로부터 발생하는 과열(열화)를 효과적으로 방지함으로서 제품의 신뢰성을 향상시키는 것이 목적
- 또한, 내부 손상을 줄여줌에 따라 전체적인 장치 수명을 연장하는 효과 있음
- 따라서, Hiccup mode는 연구 목적인 고장 감시 및 잔여수명 예측을 위해 단독으로 사용하기에는 무리가 있음

▶️ 다른 방법은?
| 접근 방식           | 측정 위치      | 설명                       |
| --------------- | ---------- | ------------------------ |
| 출력 전압/전류        | SMPS 출력 단자 | 히껍 모드 감지, 전압 리플 변화 감지 가능 |
| 진동 센서 (RAW/FFT) | SMPS 외부 표면 | 내부 고주파 스위칭, 팬, 코일 떨림 감지  |
| 표면 온도 센서        | 외부 금속 케이스  | 열화 추정, 부하 패턴 추정 가능       |

 - 간접 고장 진단
   - 히껍 모드 빈도, 출력 이상 시점 기록 → 고장 패턴 추적
   - 리플/노이즈가 점점 증가하면 커패시터 열화 가능성 추정
   - 진동 주파수 스펙트럼이 변하면 스위칭 소자나 코일 이상 가능성

✅ 전류/전압 측정(비침습) 및 특징 추출을 통한 고장 진단 관련 논문
 - **논문명** : An Integrated Cost-Aware Dual Monitoring Framework for SMPS Condition Monitoring
 - **주요 내용 요약**
   - 전류 특성:
     - 전류 RMS 값, 과전류 스파이크, 히껍 패턴 반복 여부 등 이상 징후 분석
     - 반복적인 히껍 모드(출력 차단-복귀)를 **고장 반응 시퀀스로 해석**

   - 전압 특성:
     - 출력 전압의 리플(Ripple) 크기, 평균 전압 수준, 응답 안정성 등 추적
     - **커패시터 열화, 부하 불안정** 등과 관련된 상태 진단 가능

 - **통계적 특징(Feature) 추출 + ML 기반 이상 판단**:
   - 시계열 데이터에서 특징을 추출하여 머신러닝 모델 입력값으로 활용
   - 이상 상태 탐지 또는 분류 모델 학습 가능

**▶️ 현재 프로젝트 상황과의 연관성**

| 항목 | 논문 내용 | 현재 프로젝트 적용 |
|------|-----------|--------------------|
| 전류 신호 | 히껍 반복 분석 | 히껍 모드를 통해 SMPS 반응 징후 관찰 가능 |
| 전압 신호 | 리플 수준 진단 | 출력 전압의 리플 증가 = 커패시터 열화 간접 지표 |
| 분석 방향 | 저비용 센서 기반 비침습 진단 | 실제 회로 접근 없이 센서 기반 모니터링 구현 가능 |



### ▪️ TODO list
 - 이미지 데이터 라벨링 및 학습 진행

 <!-- VS code로 확인 가능, 단축키 : ctrl + shift + v -->